<!DOCTYPE html>
<html lang="en">

<head>
  <title>Cool Veggies</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script>

  </script>
  <style>
    /* Remove the navbar's default rounded borders and increase the bottom margin */
    .navbar {
      margin-bottom: 50px;
      border-radius: 0;
    }

    /* Remove the jumbotron's default bottom margin */
    .jumbotron {
      margin-bottom: 0;
    }

    /* Add a gray background color and some padding to the footer */
    footer {
      background-color: #f2f2f2;
      padding: 25px;
    }

    
    .dropdown{
      display:inline-block;
      position:relative;
    }

    .dropdownbtn{
      cursor:pointer;
    }

    .dropdownfields{
      display:none;
      background-color:cornsilk;
      min-width: 150px;
      position: absolute;
     z-index: 1;
    }

    .dropdownfields p{
      display:block;      
    }

    .dropdownfields p:hover{
      background-color:lavender;
      
    }
    .show{
      display:block;
    }

  </style>
</head>

<body>


  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#"></a>
      </div>
     
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#"> <strong> Best Veggies </strong> </a></li>
          <li><a href="#">Products</a></li>
          <li><a href="#">Deals</a></li>
          <li><a href="#">Stores</a></li>
          <li><a href="#">Contact</a></li>

          <!--Adding Search box and Category Dropdown-->
          <li><input id="searchbox" onkeyup="searchbox()" placeholder="Search" style="margin-top:12px"> </li>
          
          <li>
            
            <div class="dropdown">
              <button onclick="filtercontents()" class="dropdownbtn" id="filterbtn" style="margin-top:12px; margin-left:5px; color:rgb(11, 76, 197)">Filter by Category</button>
              <div id="drpdown" class="dropdownfields"> 
                <p id="all">All</p>
                <p id="fruits">Fruits</p>
                <p id="veggies">Veggies</p>
              </div>
            </div>

          </li>
          </ul>

        <ul class="nav navbar-nav navbar-right">
          <li><a href="#"><span class="glyphicon glyphicon-user"></span> Your Account</a></li>
          <li><a href="cart.html"><span class="glyphicon glyphicon-shopping-cart"></span> Cart</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div id="allproducts">
  <div class="container">
    <div class="row">
      <div id="tomato" class="col-sm-4 veggies">
        <div class="panel panel-primary ">
          <div class="panel-heading">Tomatoes </div>
          <div class="panel-body"><img src="cart Images/tomato.jpg" class="img-responsive"
              style="width:100%; height: 250px;" alt="Image"></div>
          <div class="panel-footer">
            <button id="Tomato" type="button" class="btn btn-primary" onclick="addtocart(this.id)">Add to Cart</button>
            <label for="dropdowntomato"  style="margin-top:15px; margin-left:15px; color:whitesmoke">KG</label>
            <select name="category" id="dropdown">
              <option value="onekg">1 kg</option>
              <option value="twokg">2 kg</option>
              <option value="threekg">3 kg</option>
              <option value="fourkg">4 kg</option>
              <option value="fivekg">5 kg</option>
            </select>
          </div>
        </div>
      </div>
      <div id="Cucumber" class="col-sm-4   veggies">
        <div class="panel panel-primary">
          <div class="panel-heading">Cucumber</div>
          <div class="panel-body"><img src="cart Images/cucumber.jpg" class="img-responsive"
              style="width:100%;  height: 250px;" alt="Image"></div>
              <div class="panel-footer">
                <button id="Cucumber" type="button" class="btn btn-primary" onclick="addtocart(this.id)">Add to Cart</button>
                <label for="dropdowntomato"  style="margin-top:15px; margin-left:15px; color:whitesmoke">KG</label>
                <select name="category" id="dropdown">
                  <option value="onekg">1 kg</option>
                  <option value="twokg">2 kg</option>
                  <option value="threekg">3 kg</option>
                  <option value="fourkg">4 kg</option>
                  <option value="fivekg">5 kg</option>
                </select>
      </div>
      </div>
    </div>

      <div id="Chilli" class="col-sm-4   veggies">
        <div class="panel panel-primary">
          <div class="panel-heading">Chilli</div>
          <div class="panel-body"><img src="cart Images/chilli.jpg" class="img-responsive"
              style="width:100%; height: 250px" alt="Image"></div>
              <div class="panel-footer">
                <button id="Chilli" type="button" class="btn btn-primary" onclick="addtocart(this.id)">Add to Cart</button>
                <label for="dropdownchilli"  style="margin-top:15px; margin-left:15px; color:whitesmoke">KG</label>
                <select name="category" id="dropdown">
                  <option value="onekg">1 kg</option>
                  <option value="twokg">2 kg</option>
                  <option value="threekg">3 kg</option>
                  <option value="fourkg">4 kg</option>
                  <option value="fivekg">5 kg</option>
                </select>
              </div>
      </div>
    </div>
  </div>
  </div>
  <br>

  <div class="container">
    <div class="row">
      <div id="strawberry" class="col-sm-4   fruits">
        <div class="panel panel-primary ">
          <div class="panel-heading">Strawberry </div>
          <div class="panel-body"><img src="cart Images/strawbery.jpg" class="img-responsive"
              style="width:100%; height: 250px;" alt="Image"></div>
          <div class="panel-footer">
            <button id="Strawberry" type="button" class="btn btn-primary" onclick="addtocart(this.id)">Add to Cart</button>
            <label for="dropdowntomato"  style="margin-top:15px; margin-left:15px; color:whitesmoke">KG</label>
            <select name="category" id="dropdown">
              <option value="onekg">1 kg</option>
              <option value="twokg">2 kg</option>
              <option value="threekg">3 kg</option>
              <option value="fourkg">4 kg</option>
              <option value="fivekg">5 kg</option>
            </select>
          </div>
        </div>
      </div>
      <div id="mango" class="col-sm-4   fruits">
        <div class="panel panel-primary">
          <div class="panel-heading">Mango</div>
          <div class="panel-body"><img src="cart Images/mango.jpg" class="img-responsive"
              style="width:100%;  height: 250px;" alt="Image"></div>
              <div class="panel-footer">
                <button id="Mango" type="button" class="btn btn-primary" onclick="addtocart(this.id)">Add to Cart</button>
                <label for="dropdownmango"  style="margin-top:15px; margin-left:15px; color:whitesmoke">KG</label>
                <select name="category" id="dropdown">
                  <option value="onekg">1 kg</option>
                  <option value="twokg">2 kg</option>
                  <option value="threekg">3 kg</option>
                  <option value="fourkg">4 kg</option>
                  <option value="fivekg">5 kg</option>
                </select>
      </div>
      </div>
    </div>
      <div id="pineapple" class="col-sm-4  fruits">
        <div class="panel panel-primary">
          <div class="panel-heading">Pineapple</div>
          <div class="panel-body"><img src="cart Images/pineapple.jpg" class="img-responsive"
              style="width:100%; height: 250px" alt="Image"></div>
              <div class="panel-footer">
                <button id="Pineapple" type="button" class="btn btn-primary" onclick="addtocart(this.id)">Add to Cart</button>
                <label for="dropdownstrawberry"  style="margin-top:15px; margin-left:15px; color:whitesmoke">KG</label>
                <select name="category" id="dropdown">
                  <option value="onekg">1 kg</option>
                  <option value="twokg">2 kg</option>
                  <option value="threekg">3 kg</option>
                  <option value="fourkg">4 kg</option>
                  <option value="fivekg">5 kg</option>
                </select>
              </div>
      </div>
    </div>
  </div>
  </div>
</div>
</div>
  <br>
  <br>

  <footer class ="container-fluid text-center ">
    <p>Online Store Copyright</p>
<form id="signupform" class="form-inline" >
  <input type="email" id="emailid" class="form-control" size="50" placeholder="Your email">
  <button type="button" id="signupbutton" class="btn btn-signup">Sign Up</button>
</form>    
  </footer>


  <!--Functionality of our webpage-->
  <script>
  let history = new Set();

function searchbox(){
  var sq = document.getElementById("searchbox").value //search query
  sq = sq.toUpperCase();
  var pl = document.getElementById("allproducts") // all product list
  var mpn = pl.getElementsByClassName("col-sm-4") // list to match product names 
  console.log(mpn);
  var i;
  
  for(i =0 ; i< mpn.length; i++)
  //logging history if the search query exactly matches the product name
  
  if(mpn[i].id.toUpperCase().indexOf(sq)==0){
      mpn[i].style.display = ""

  if( sq!=' ' && sq === mpn[i].id.toUpperCase()){
    history.add(mpn[i].id);
  }
}
  //setting the display even if the sq character occurs in the id of all products in our list 
  
    else{
      mpn[i].style.display = "none"; 
    }

};


function filtercontents(){
  document.getElementById("drpdown").classList.toggle("show");
};

window.onclick = function(event) {
  if (!event.target.matches('.dropdownbtn')) {
    var dropdowns = document.getElementsByClassName("dropdownfields");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
};


fruits.addEventListener("click", ()=>{
 
  document.getElementById("filterbtn").textContent = "Fruits"

 
 let mpn = document.getElementsByClassName("col-sm-4");

  for(let i =0; i < mpn.length; i++){
    if(mpn[i].classList.contains("fruits")){
      mpn[i].style.display ="";
    }
   else{
    mpn[i].style.display = "none";
  }
}
});

veggies.addEventListener("click", ()=>{
  document.getElementById("filterbtn").textContent = "Veggies"
  let mpn = document.getElementsByClassName("col-sm-4");


  for(let i =0; i < mpn.length; i++){
    if(mpn[i].classList.contains("veggies")){
      mpn[i].style.display ="";
    }
   else{
    mpn[i].style.display = "none";
  }
}
});

all.addEventListener("click", ()=>{
  document.getElementById("filterbtn").textContent = "Filter By Category"
  let mpn = document.getElementsByClassName("col-sm-4");

  for(let i =0; i < mpn.length; i++){
    i
      mpn[i].style.display ="";
   
}
});

function addtocart(id){
if(localStorage.getItem(id)==null){
  localStorage.setItem(id,1);
  
}
else{
  localStorage.setItem(id,parseInt(localStorage.getItem(id))+1);
}
};

  </script>
</body>

</html>
